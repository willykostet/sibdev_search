(function(){"use strict";var t={1956:function(t,e,s){var a=s(6369),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},r=[],l=s(1001),n={},o=(0,l.Z)(n,i,r,!1,null,null,null),c=o.exports,u=s(3822),d=s(4311);a.ZP.use(u.ZP);const v='"AIzaSyDULfXk5YXHxAUCtxsmKDwBUS50ny4N9rk";',p="https://www.googleapis.com/youtube/v3";var m=new u.ZP.Store({state:{logined:!1,searchList:[],select_list:[],inputFieldStore:null},getters:{getLogined(t){return t.logined},getSearchList(t){return t.searchList},getSelectList(t){return t.select_list},getinputField(t){return t.inputFieldStore}},mutations:{SET_DATA(t,e){t.searchList=e},SET_INPUT(t,e){t.inputFieldStore=e},SET_SELECT_DATA(t){let e=localStorage.getItem("currentUser");t.select_list=JSON.parse(localStorage.getItem(e))},EDIT_SELECT_DATA(t,e){const s=t.select_list;s[e.id]=e.data,t.select_list=s;const a=localStorage.getItem("currentUser");localStorage.setItem(a,JSON.stringify(t.select_list))},DELETE_SELECT_DATA(t,e){const s=t.select_list.indexOf(e);s>-1&&t.select_list.splice(s,1);const a=localStorage.getItem("currentUser");localStorage.setItem(a,JSON.stringify(t.select_list))}},actions:{async GET_DATA_API({commit:t},e){t("SET_INPUT",e.searchTerm),console.log("payload",e),await d.Z.get(`${p}/search${null!=e.selectFilter?`?order=${e.selectFilter}`:""}`,{params:{key:v,type:"video",part:"snippet",maxResults:e.maxVal||12,q:e.searchTerm}}).then((e=>{t("SET_DATA",e.data.items),this.videos=e.data.items}))},async GET_VIDEO_VIEW_COUNT(t,e){return await d.Z.get(`${p}/videos`,{params:{key:v,id:e,part:"statistics"}}).then((t=>t.data.items[0]?.statistics))}},modules:{}}),h=s(2631),g=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-page-wrapper"},[e("AlertRequest",{directives:[{name:"show",rawName:"v-show",value:t.alert,expression:"alert"}],attrs:{isDisable:!0,inputVal:t.inputed},on:{close:t.onClose,saved:t.onSaved}}),e("div",{staticClass:"search-page"},[e("NavBar"),0==t.$store.getters.getSearchList.length?e("div",{staticClass:"search-main"},[e("h1",{staticClass:"header-search"},[t._v("Поиск видео")]),e("div",{staticClass:"searchbar"},[e("form",{staticClass:"search-form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.searchVideos(t.inputed,12)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputed,expression:"inputed"}],staticClass:"searchbar-input",attrs:{type:"text",placeholder:"Что хотите посмотреть?"},domProps:{value:t.inputed},on:{input:function(e){e.target.composing||(t.inputed=e.target.value)}}}),e("button",{staticClass:"search-btn",attrs:{type:"submit"}},[t._v("Найти")])])])]):e("div",{staticClass:"container"},[e("div",{staticClass:"search-wrapper"},[e("h1",{staticClass:"header-search"},[t._v("Поиск видео")]),e("div",{staticClass:"searchbar"},[e("form",{staticClass:"search-form",attrs:{action:""},on:{submit:function(e){return e.preventDefault(),t.searchVideos(t.inputed,12)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.inputed,expression:"inputed"}],staticClass:"searchbar-input",attrs:{type:"text",placeholder:"Что хотите посмотреть?"},domProps:{value:t.inputed},on:{input:function(e){e.target.composing||(t.inputed=e.target.value)}}}),e("div",{staticClass:"fav-wrapper"},[t.inputed?e("div",{staticClass:"like-basic",class:{favAlert:t.favAlert},on:{click:function(e){t.alert=!0}}}):t._e(),t.favAlert?e("div",{staticClass:"fav-alert"},[e("p",{staticClass:"fav-alert-title"},[t._v("Поиск сохранён в разделе «Избранное»")]),e("p",{staticClass:"fav-alert-link"},[e("router-link",{attrs:{to:"/list"}},[t._v("Перейти в избранное")])],1)]):t._e()]),e("button",{staticClass:"search-btn",attrs:{type:"submit"}},[t._v("Найти")])])]),t.$store.getters.getSearchList?e("div",{staticClass:"result"},[e("div",{staticClass:"result-header"},[e("p",[t._v(" Видео по запросу "),e("b",[t._v("«"+t._s(t.$store.getters.getinputField||0)+"»")]),t._v(" "),e("span",{staticClass:"result-length"},[t._v(t._s(t.$store.getters.getSearchList.length||0))])]),e("div",{staticClass:"view-list"},[e("div",{staticClass:"view-item",class:{active:0==t.setView},on:{click:function(e){t.setView=0}}},[e("img",{attrs:{src:s(9123),alt:""}})]),e("div",{staticClass:"view-item",class:{active:1==t.setView},on:{click:function(e){t.setView=1}}},[e("img",{attrs:{src:s(4301),alt:""}})])])]),1==t.setView?e("div",{staticClass:"video-list"},t._l(t.$store.getters.getSearchList,(function(t){return e("VideoItem",{key:t.id.videoId,attrs:{data:t}})})),1):e("div",{staticClass:"video-list list-wide"},t._l(t.$store.getters.getSearchList,(function(t){return e("VideoItem",{key:t.id.videoId,attrs:{data:t,wide:!0}})})),1)]):t._e()])])],1)],1)},f=[],_=function(){var t=this,e=t._self._c;return e("header",{staticClass:"nav-bar"},[e("div",{staticClass:"container"},[e("nav",[e("router-link",{attrs:{to:"/"}},[e("img",{attrs:{src:s(9574),alt:""}})]),e("div",{staticClass:"nav"},[e("router-link",{attrs:{to:"/","exact-active-class":"active"}},[e("span",[t._v("Поиск")])]),e("router-link",{attrs:{to:"/list","exact-active-class":"active"}},[e("span",[t._v("Избранное")])])],1),e("button",{staticClass:"logout",on:{click:function(e){return t.logOut()}}},[t._v("Выйти")])],1)])])},w=[],C=(s(7658),{data(){return{active:"search"}},methods:{logOut(){localStorage.removeItem("sibdevAccess"),this.$router.push("/auth")}}}),b=C,x=(0,l.Z)(b,_,w,!1,null,"657eb5de",null),D=x.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"alert-wrap"},[e("form",{staticClass:"request-form"},[e("h2",{staticClass:"alert-title"},[t._v(t._s(t.isDisable?"Сохранить запрос":"Изменить запрос"))]),e("label",[t._v("Запрос")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.alertData.request,expression:"alertData.request"}],attrs:{disabled:t.isDisable,type:"text",placeholder:"чем кормить кота"},domProps:{value:t.alertData.request},on:{input:function(e){e.target.composing||t.$set(t.alertData,"request",e.target.value)}}}),t._m(0),e("input",{directives:[{name:"model",rawName:"v-model",value:t.alertData.title,expression:"alertData.title"}],attrs:{type:"text",placeholder:"Укажите название"},domProps:{value:t.alertData.title},on:{input:function(e){e.target.composing||t.$set(t.alertData,"title",e.target.value)}}}),e("label",[t._v("Сортировать по")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.alertData.select_filter,expression:"alertData.select_filter"}],staticClass:"request-select",attrs:{name:"select"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.alertData,"select_filter",e.target.multiple?s:s[0])}}},[e("option",{domProps:{value:null}},[t._v("-")]),t._l(t.sortList,(function(s,a){return e("option",{key:a,domProps:{value:s.filter}},[t._v(t._s(s.name))])}))],2),e("label",[t._v("Максимальное количество")]),e("div",{staticClass:"range-input-wrapper"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.alertData.maxValue,expression:"alertData.maxValue"}],staticClass:"range",attrs:{type:"range",id:"volume",name:"volume",min:"0",max:"50",step:"1"},domProps:{value:t.alertData.maxValue},on:{__r:function(e){return t.$set(t.alertData,"maxValue",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.alertData.maxValue,expression:"alertData.maxValue"}],staticClass:"range-input",attrs:{type:"text"},domProps:{value:t.alertData.maxValue},on:{input:function(e){e.target.composing||t.$set(t.alertData,"maxValue",e.target.value)}}})]),t.errored?e("p",{staticClass:"error"},[t._v(t._s(t.errored))]):t._e(),e("div",{staticClass:"alert-buttons"},[e("button",{attrs:{type:"button"},on:{click:t.cancel}},[t._v(t._s(t.isDisable?"Не сохранять":"Не изменять"))]),e("button",{staticClass:"save",attrs:{type:"button"},on:{click:function(e){return t.save()}}},[t._v(t._s(t.isDisable?"Сохранить":"Изменить"))])])])])},V=[function(){var t=this,e=t._self._c;return e("label",[e("span",{staticClass:"red"},[t._v("*")]),t._v(" Название")])}],y={props:["inputVal","isDisable","maxVal","nameVal","idVal","orderVal"],data(){return{errored:!1,alertData:{request:null,title:null,maxValue:12,select_filter:null},sortList:[{filter:"date",name:"По дате"},{filter:"rating",name:"По рейтингу"},{filter:"relevance",name:"По актуальности"},{filter:"title",name:"По названию"},{filter:"videoCount",name:"По количеству"},{filter:"viewCount",name:"По просмотру"}]}},methods:{cancel(){this.$emit("close"),this.errored=null},saved(){this.$emit("saved")},save(){if(!this.alertData.title&&!this.alertData.request)return console.log(this.errored="Заполните поля"),!1;if(!this.alertData.title)return console.log(this.errored="Введите название"),!1;if(!this.alertData.request)return console.log(this.errored="Введите запрос"),!1;let t={request:this.alertData.request,title:this.alertData.title,maxValue:this.alertData.maxValue,selectFilter:this.alertData.select_filter},e=localStorage.getItem("currentUser"),s=JSON.parse(localStorage.getItem(e));this.isDisable?(s.push(t),localStorage.setItem(e,JSON.stringify(s)),this.$store.commit("SET_SELECT_DATA")):this.$store.commit("EDIT_SELECT_DATA",{id:this.idVal,data:t}),this.cancel(),this.saved()}},watch:{inputVal:function(t){this.alertData.request=t},maxVal:function(t){this.alertData.maxValue=t},nameVal:function(t){this.alertData.title=t},orderVal:function(t){this.alertData.select_filter=t}}},T=y,A=(0,l.Z)(T,S,V,!1,null,null,null),E=A.exports,k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-item",class:t.wide?"item-wide":""},[e("iframe",{attrs:{src:t.getVideoUrl(t.data.id.videoId),frameborder:"0"}}),e("div",{staticClass:"item-descriptions",class:t.wide?"item-descriptions-wide":""},[e("h2",{staticClass:"video-item-title"},[t._v(t._s(t.shortTitle(t.data.snippet.title,45)))]),e("h3",{staticClass:"video-item-subtitle"},[t._v(t._s(t.shortTitle(t.data.snippet.channelTitle,30)))]),e("h3",{staticClass:"video-item-subtitle"},[t._v(t._s(t.shortView(t.view)||0)+" просмотров")])])])},I=[],P={props:["data","wide"],data(){return{view:0}},async mounted(){return await this.$store.dispatch("GET_VIDEO_VIEW_COUNT",this.data?.id.videoId).then((t=>{this.view=t.viewCount}))},methods:{shortTitle(t,e){if(this.wide)return t;if(t.length>e){const s=t.slice(0,e);return s+"..."}return t},getVideoUrl(t){return`https://www.youtube.com/embed/${t}`},shortView(t){let e=t.toString();if(e.length>9){let t=e;const s=t.slice(0,e.length-9);return`${s} млдр.`}if(e.length>6){let t=e;const s=t.slice(0,e.length-6);return`${s} млн.`}if(e.length>4){let t=e;const s=t.slice(0,e.length-3);return`${s} тыс.`}return e}}},$=P,N=(0,l.Z)($,k,I,!1,null,null,null),L=N.exports,O={name:"MainPage",components:{NavBar:D,AlertRequest:E,VideoItem:L},data(){return{favAlert:!1,alert:!1,inputed:"",setView:1}},mounted(){null!=this.$store.getters.getinputField&&(this.inputed=this.$store.getters.getinputField)},methods:{searchVideos(t){this.$store.dispatch("GET_DATA_API",{searchTerm:t})},onClose(){this.alert=!1},onSaved(){this.favAlert=!0,setTimeout((()=>{this.favAlert=!1}),3e3)}}},q=O,Z=(0,l.Z)(q,g,f,!1,null,null,null),U=Z.exports,F=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-wrapper"},[e("div",{staticClass:"auth"},[e("img",{attrs:{src:s(9574),alt:""}}),e("h1",[t._v("Вход")]),e("form",{staticClass:"form-login",attrs:{action:""},on:{submit:function(e){return t.loginUser()}}},[e("div",{staticClass:"form-login-input"},[e("label",[t._v("Логин")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login,expression:"login"}],attrs:{type:"text"},domProps:{value:t.login},on:{input:function(e){e.target.composing||(t.login=e.target.value)}}})]),e("div",{staticClass:"form-login-input"},[e("label",[t._v("Пароль")]),"checkbox"===(t.showPass?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.password)?t._i(t.password,null)>-1:t.password},on:{change:function(e){var s=t.password,a=e.target,i=!!a.checked;if(Array.isArray(s)){var r=null,l=t._i(s,r);a.checked?l<0&&(t.password=s.concat([r])):l>-1&&(t.password=s.slice(0,l).concat(s.slice(l+1)))}else t.password=i}}}):"radio"===(t.showPass?"text":"password")?e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"radio"},domProps:{checked:t._q(t.password,null)},on:{change:function(e){t.password=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:t.showPass?"text":"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),e("div",{staticClass:"passShow",on:{click:function(e){t.showPass=!t.showPass}}},[t.showPass?e("img",{attrs:{src:s(9279),alt:"eye"}}):e("img",{attrs:{src:s(7178),alt:"eye"}})])]),e("button",{staticClass:"form-login-btn",attrs:{type:"submit"}},[t._v("Войти")])])])])},j=[];const J=[{id:1,name:"Nikitos",password:"2022",token:"abv"},{id:2,name:"Vitalik",password:"2022"}];var B={name:"AuthPage",data(){return{login:null,password:null,showPass:!1}},methods:{loginUser(){if(J.find((t=>t.name===this.login&&t.password===this.password))){localStorage.setItem("sibdevAccess",Math.random().toString(36).substr(2)),localStorage.setItem("currentUser",this.login.toString());let t=[];localStorage.getItem(this.login.toString())||localStorage.setItem(this.login.toString(),JSON.stringify(t)),this.$router.push("/")}}}},G=B,R=(0,l.Z)(G,F,j,!1,null,"b4b47684",null),M=R.exports,W=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-page-wrapper"},[e("AlertRequest",{directives:[{name:"show",rawName:"v-show",value:t.alert,expression:"alert"}],attrs:{idVal:t.idVal,isDisable:!1,maxVal:t.edited?.maxValue,nameVal:t.edited?.title,inputVal:t.edited?.request,orderVal:t.edited?.selectFilter},on:{close:function(e){t.alert=!1}}}),e("div",{staticClass:"search-page"},[e("NavBar"),e("div",{staticClass:"container"},[e("div",{staticClass:"list-wrapper"},[e("h1",{staticClass:"header-search"},[t._v("Избранное")]),e("div",{staticClass:"favlist"},t._l(t.$store.getters.getSelectList,(function(s,a){return e("div",{key:a,staticClass:"favlist-item"},[e("span",{staticClass:"favlist-item-name",on:{click:function(e){return t.searchVideos(s.request,s.maxValue,s.selectFilter)}}},[t._v(t._s(s?.title))]),e("div",{staticClass:"action-list"},[e("span",{staticClass:"action-item edit",on:{click:function(e){return t.edit(s,a)}}},[t._v("Изменить")]),e("span",{staticClass:"action-item remove",on:{click:function(e){return t.deleteItem(s)}}},[t._v("Удалить")])])])})),0)])])],1)],1)},X=[],z={name:"MainPage",components:{NavBar:D,AlertRequest:E},data(){return{alert:!1,edited:null,idVal:null}},methods:{searchVideos(t,e,s){this.$store.dispatch("GET_DATA_API",{searchTerm:t,maxVal:e,selectFilter:s}),this.$router.push("/")},deleteItem(t){this.$store.commit("DELETE_SELECT_DATA",t)},edit(t,e){this.alert=!0,this.edited=t,this.idVal=e}},mounted(){this.$store.commit("SET_SELECT_DATA")}},H=z,K=(0,l.Z)(H,W,X,!1,null,null,null),Y=K.exports;a.ZP.use(h.ZP);const Q=[{path:"/",name:"main",component:U,beforeEnter:(t,e,s)=>{localStorage.getItem("sibdevAccess")||m.getters.getLogined?s():s("/auth")}},{path:"/auth",name:"auth",component:M},{path:"/list",name:"list",component:Y,beforeEnter:(t,e,s)=>{localStorage.getItem("sibdevAccess")||m.getters.getLogined?s():s("/auth")}}],tt=new h.ZP({mode:"history",base:"/sibdev_search/",routes:Q});var et=tt;a.ZP.config.productionTip=!1,new a.ZP({store:m,router:et,render:t=>t(c)}).$mount("#app")},7178:function(t,e,s){t.exports=s.p+"img/eye-off.325fb609.svg"},9279:function(t,e,s){t.exports=s.p+"img/eye.7869e72f.svg"},9574:function(t,e,s){t.exports=s.p+"img/logo.dea027cc.svg"},9123:function(t,e,s){t.exports=s.p+"img/view1.c413f841.svg"},4301:function(t,e,s){t.exports=s.p+"img/view2.b2fdfc25.svg"}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,r){if(!a){var l=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],r=t[u][2];for(var n=!0,o=0;o<a.length;o++)(!1&r||l>=r)&&Object.keys(s.O).every((function(t){return s.O[t](a[o])}))?a.splice(o--,1):(n=!1,r<l&&(l=r));if(n){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[a,i,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="/sibdev_search/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,r,l=a[0],n=a[1],o=a[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(o)var u=o(s)}for(e&&e(a);c<l.length;c++)r=l[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(u)},a=self["webpackChunksibdev_task"]=self["webpackChunksibdev_task"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(1956)}));a=s.O(a)})();
//# sourceMappingURL=app.8355e631.js.map